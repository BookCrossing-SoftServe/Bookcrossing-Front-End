
<div class="card card-cascade narrower container mt-2 mb-4">

  <div class="card-header white d-flex justify-content-between align-items-center py-3">
    <p class="h5-responsive font-weight-bold mb-0">{{'components.requests.requests' | translate}}</p>
  </div>
  
    <div class="px-4">
  

        <table class="table table-hover" matSort (matSortChange)="sortData($event)">
  
          <thead>
            <tr>
              <th>
              </th>
              <th mat-sort-header="id" class="th-lg">
                <a>{{ 'common.id' | translate }}
                </a>
              </th>
              <th mat-sort-header="book" class="th-lg">
                {{ 'components.requests.book-name' | translate }}
                
              </th>
              <th mat-sort-header="user" class="th-lg">
               {{ 'components.requests.user-who-requested' | translate }}
                
              </th>
              <th mat-sort-header="requestdate" class="th-lg">
                {{ 'components.requests.request-date' | translate }}
                
              </th>
              <th class="th-lg">
              {{ 'components.requests.approve' | translate }}
              </th>
              <th class="th-lg">
                {{ 'components.requests.delete' | translate }}
                
              </th>
            </tr>
          </thead>

          <tbody>
            <tr *ngFor="let request of sortedData | paginate:{itemsPerPage: 10, currentPage:p}">
              <th scope="row">
              </th>
              <td>{{ request.id }}</td>
              <td><a [routerLink]="['/book/bookId']">{{ request.book.name }}</a></td>
              <td>{{ request.user.firstName + " " + request.user.lastName }}</td>
              <td>{{ request.requestDate  | date:'short'}}</td>
              <td>
                <button type="button" class="btn blue-gradient btn-sm waves-effect" (click)="approveRequest(request.id)">{{ 'components.requests.approve' | translate }}</button>
              </td>
              <td>
                <button type="button" class="btn btn-sm peach-gradient waves-effect" (click)="deleteRequest(request.id)">X</button>
              </td>
            </tr>
          </tbody>

        </table>
        <div id="pagination">
          <pagination-controls autoHide="true"
          previousLabel="{{'components.requests.previous'|translate}}"
          nextLabel="{{'components.requests.next'|translate}}"
          screenReaderPageLabel="page" 
          (pageChange)="p=$event"></pagination-controls>
        </div>  
        
    </div>

  </div>